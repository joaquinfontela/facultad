<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Taller de Programación I - Cátedra Veiga - FIUBA</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Taller de Programación I - Cátedra Veiga - FIUBA </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1"></a>
Trabajo Práctico Final</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Padrón   </th><th class="markdownTableHeadNone">Alumno    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">104105   </td><td class="markdownTableBodyNone">Jonathan David Rosenblatt    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">103924   </td><td class="markdownTableBodyNone">Joaquín Fontela    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">104348   </td><td class="markdownTableBodyNone">Joaquin Betz Rivera    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">104429   </td><td class="markdownTableBodyNone">Thiago Kovnat   </td></tr>
</table>
<p><b>Tabla de Contenidos</b></p>
<ul>
<li><a href="#guia-de-instalación">Guia de Instalacion</a><ul>
<li><a href="#requisitos">Requisitos</a></li>
<li><a href="#instalación-de-dependencias">Instalación de dependencias</a></li>
<li><a href="#configuración,-compilación-e-instalacion-de-librerias-yaml">Configuración, compilación e instalacion de librerias YAML</a></li>
</ul>
</li>
<li><a href="#forma-de-uso">Forma de Uso</a><ul>
<li><a href="#servidor">Servidor</a></li>
<li><a href="#cliente">Cliente</a></li>
</ul>
</li>
<li><a href="#tutorial-de-uso">Tutorial de Uso</a><ul>
<li><a href="#login">Login</a></li>
<li><a href="#iniciar-partida">Iniciar Partida</a></li>
<li><a href="#movimiento">Movimiento</a></li>
<li><a href="#armas">Armas</a></li>
<li><a href="#puertas">Puertas</a><ul>
<li><a href="#puertas-bloqueadas">Puertas Bloqueadas</a></li>
<li><a href="#puertas-normales">Puertas Normales</a></li>
</ul>
</li>
<li><a href="#drops">Drops</a></li>
<li><a href="#editor">Editor</a></li>
</ul>
</li>
<li><a href="#apéndice-de-errores">Apéndice de Errores</a><ul>
<li><a href="#clasificación-de-errores">Clasificación de Errores</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Guia de Instalación</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
Requisitos</h2>
<p>Ademas de las librerias que utiliza el juego, el unico otro requisito que necesita el trabajo es contar con una computadora que utilice GNU/Linux como sistema operativo.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Instalación de dependencias</h2>
<p>Dependiendo del gestor de paquetes, el comando para instalar las dependencias puede variar. Sin embargo, los paquetes a instalar son siempre los mismos. A continuación, se deja los comandos para instalar SDL 2.0 y Qt5 para el correcto funcionamiento del trabajo práctico utilizando el gestor de paquetes APT utilizado en muchas distribuciones de Linux.</p>
<div class="fragment"><div class="line">sudo apt-get install libsdl2-dev &amp;&amp;</div>
<div class="line">sudo apt-get install libsdl2-image-dev -y &amp;&amp;</div>
<div class="line">sudo apt-get install libsdl2-mixer-dev -y &amp;&amp;</div>
<div class="line">sudo apt-get install libsdl2-ttf-dev -y &amp;&amp;</div>
<div class="line">sudo apt-get install qt5-default</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md5"></a>
Configuración, compilación e instalacion de librerias YAML</h2>
<p>Una vez instaladas las dependencias previas, se debe de utilizar el script install.sh brindado en el repositorio para la instalación de la libreria de parsing de YAML y para compilar el trabajo. Dicho script se puede correr utilizando el siguiente comando. Cabe recalcar que se necesitan de derechos de administrador dado que la instalacion de la libreria YAML lo requiere.</p>
<div class="fragment"><div class="line">chmod +x install.sh</div>
<div class="line">./install.sh</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md6"></a>
Forma de Uso</h2>
<h3><a class="anchor" id="autotoc_md7"></a>
Servidor</h3>
<p>Dentro de la carpeta principal del repositorio, se encontrara el ejecutable del servidor, al cual se lo debe llamar utilizando el siguiente comando</p>
<div class="fragment"><div class="line">./ServerMain &lt;PORT&gt; </div>
</div><!-- fragment --><p>Siendo PORT el puerto a utlizar y configFilePath el path al archivo de configuracion que utiliza el juego para balancear las constantes numericas.</p>
<h3><a class="anchor" id="autotoc_md8"></a>
Cliente</h3>
<p>Para correr el cliente, se debe entrar a la carpeta client/executable. Desde la carpeta principal del repositorio basta con hacer cd client/executable para posicionarse dentro de la misma. Para correr el ejecutable, debe de usarse el siguiente comando</p>
<div class="fragment"><div class="line">./Wolfen3D</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md9"></a>
Tutorial de Uso</h1>
<h2><a class="anchor" id="autotoc_md10"></a>
Login</h2>
<p>Para acceder al login del juego debemos correr <code>./Wolfen3D</code> en la carpeta <code>client/executable</code>. El mismo posee dos cajas de texto donde se puede ingresar el host y port.</p>
<p align="center"><br  />
</p>
<p><img src="./docs/screenshots/Login.png" alt="" class="inline"/></p>
<p>Luego uno puede seleccionar <em>Join <a class="el" href="classMatch.html">Match</a></em> si quiere entrar a una partida existente.</p>
<p align="center"><br  />
</p>
<p><img src="./docs/screenshots/JoinMatch.png" alt="" class="inline"/></p>
<p>O <em>Create <a class="el" href="classMatch.html">Match</a></em> para crear una propia.</p>
<p align="center"><br  />
</p>
<p><img src="./docs/screenshots/CreateMatch.png" alt="" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md11"></a>
Iniciar Partida</h2>
<p>Una vez creada la partida, ningun jugador podrá moverse o ejecutar ninguna accion hasta que el admin de la partida (aquel que la haya creado) no aprete la tecla <em>p</em> que indica al servidor que el admin desea comenzar la partida.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Movimiento</h2>
<p>Para moverse, se utiliza el sistema clásico de movimiento: <em>W</em> para moverse para adelante, <em>S</em> para moverse hacia atras, <em>A</em> para rotar la camara hacia la izquierda y <em>D</em> para rotar la camara hacia la derecha.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Armas</h2>
<p>Para el uso de las armas, el <em>enter</em> significa disparar mientras que las teclas <em>1</em>, <em>2</em>, <em>3</em>, <em>4</em> y <em>5</em> le permiten al jugador cambiar de armas. El <em>1</em> siempre indica cambiar al cuchillo mientras que el <em>2</em> indica cambiar a la pistola. Las otras 3 teclas le permiten al jugador cambiar a armas que haya agarrado del piso, en el orden en el que las agarró.</p>
<p align="center"><br  />
</p>
<p><img src="./docs/screenshots/RPG.png" alt="" class="inline"/></p>
<p>Esta arma es el RPG, requiere 5 balas por disparo y genera un proyectil visible que genera daño en area desde la zona de impacto. Hay que tener cuidado, ya que tambien puede dañar al usuario.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Puertas</h2>
<p>El jugador podrá interactuar con las puertas para generar cambios en el mapa. Este puede intentar abrirlas acercándose lo suficiente y aprentándo la <em>E</em>. Hay dos tipos de puertas:</p>
<h3><a class="anchor" id="autotoc_md15"></a>
Puertas Bloqueadas</h3>
<p align="center"><br  />
</p>
<p><img src="./docs/screenshots/LockedDoor.png" alt="" class="inline"/></p>
<p>Esta puerta es una puerta bloqueada, requiere de una llave que se puede agarrar del piso para poder ser abierta. Una vez que la puerta se haya abierto una vez con llave, cualquier jugador, tenga llave o no, podrá abrirla.</p>
<h3><a class="anchor" id="autotoc_md16"></a>
Puertas Normales</h3>
<p align="center"><br  />
</p>
<p><img src="./docs/screenshots/UnlockableDoor.png" alt="" class="inline"/></p>
<p>Esta puerta es desbloqueable en cualquier momento por cualquier jugador, tenga llave o no.</p>
<h2><a class="anchor" id="autotoc_md17"></a>
Drops</h2>
<p align="center"><br  />
</p>
<p><img src="./docs/screenshots/Drops.png" alt="" class="inline"/></p>
<p>El mapa cuenta con drops distribuidos a lo largo del mapa. Estos incluyen: Armas, munición, llaves, tesoros y medikits. Basta con caminar por encima de ellos y, de ser posible, los agarra automaticamente.</p>
<p align="center"><br  />
</p>
<p><img src="./docs/screenshots/Treasure.png" alt="" class="inline"/></p>
<p>Este es el drop de tesoro, da una cantidad importante de puntos cuando se agarra. Darle prioridad a estos para ganar la partida!</p>
<h2><a class="anchor" id="autotoc_md18"></a>
Editor</h2>
<p align="center"><br  />
</p>
<p><img src="./docs/screenshots/editor.png" alt="" class="inline"/></p>
<p>El editor es intuitivo y simple. Seleccionar File-&gt;New para crear un mapa, File-&gt;Open para abrir un mapa existente o File-&gt;Save para guardar un mapa creado. Si es la primera vez que se guarda el mapa creado, se pedira un nombre que debera seguir el estandar de nombre: "map" seguido del ID del mapa, que es un numero arbitrario elegido por el usuario.</p>
<p>Dentro del editor, en la barra superior hay distintas secciones que indican diferentes elementos posicionables: Paredes, Puertas, Items, etc. Basta con clickear la imagen deseada y elegir en que celda del mapa ponerla. El borrador permite elegir una celda y eliminar sus contenidos, mientras que respawn elige posiciones para que los jugadores reaparezcan (<em><b>Como minimo, deberá haber 1 punto de respawn</b></em>)</p>
<h1><a class="anchor" id="autotoc_md19"></a>
Apéndice de Errores</h1>
<p>El sistema puede tener glitches que causen, o no, diferentes tipos de interferencias en la experiencia del usuario. Para notificar esto y para generar un registro de potenciales problemas que aparecen se usa un log de errores.</p>
<p>El mismo, en caso de que se necesite, escribe en el archivo _"wolfenstein.log"_ (ubicado en el mismo directorio donde se encuentra el ejecutable del cliente) la información correspondiente.</p>
<p>Llamando a la macro <code>LOG(const char* errorMsg)</code> se llama al método estático de la clase <code><a class="el" href="classLog.html" title="Logs non-fatal errors to &quot;wolfenstein.log&quot;.">Log</a></code> que recibe el archivo, la función, la línea y <code>errorMsg</code> para escribirlos en el log con el formato antes escrito.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
Clasificación de Errores</h2>
<p>Los potenciales mensajes de errores que pueden aparecer son:</p>
<ul>
<li><code>"Error, track not found with code: [CODE NUMBER]"</code>: Ocurre en el <code>audiomanager.cpp</code> cuando no se encuentra el track con el código dado. Para saber que track es el que falla se puede abrir el <code><a class="el" href="clientprotocol_8h_source.html">clientprotocol.h</a></code> en el cliente y buscar el que nombre de archivo con el código dado causa el problema. <br  />
</li>
<li><code>"Error, texture already found with code: [CODE NUMBER]"</code>: Ocurre en el <code>audiomanager.cpp</code> al inicializar los audio tracks. Ocurre si se lee el mismo archivo dos veces. Para saber que track es el que falla se puede abrir el <code><a class="el" href="clientprotocol_8h_source.html">clientprotocol.h</a></code> en el cliente y buscar el que nombre de archivo con el código dado causa el problema. <br  />
</li>
<li><code>"Error, no missile texture to explode found."</code>: Si se reporta este error, signfica que no se pudieron encontrar las coordenadas del último frame del misil en el aire. Glitch no fatal.</li>
<li><code>"Error, no hostname and/or port given."</code>: Error de Lua que ocurre cuando no se pasan los argumentos correspondientes al ejecutable.</li>
<li><code>"Error, cannot add more textures with code: "</code>: Ocurre cuando se intenta añadir una cantidad de texturas mayor al límite recomendado. Es un error no fatal que puede ser ignorado o arreglado modificando el límite de texturas en <code><a class="el" href="clientprotocol_8h_source.html">clientprotocol.h</a></code> (cambiar la macro <code>TEXTURE_LIMIT</code>).</li>
<li><code>"Error, texture not found with code: "</code>: Ocurre en el <code>texturemanager.cpp</code> cuando no se encuentra la imagen con el código dado. Para saber que imagen es el que falla se puede abrir el <code><a class="el" href="clientprotocol_8h_source.html">clientprotocol.h</a></code> en el cliente y buscar el que nombre de archivo con el código dado causa el problema. <br  />
</li>
<li><code>"Error, texture already found with code: [CODE NUMBER]"</code>: Ocurre en el <code>texturemanager.cpp</code> al inicializar las SdlTextures. Ocurre si se lee la misma imagen dos veces. Para saber que archivo es el que falla se puede abrir el <code><a class="el" href="clientprotocol_8h_source.html">clientprotocol.h</a></code> en el cliente y buscar el que nombre de archivo con el código dado causa el problema. <br  />
</li>
<li><code>"Error, map not found: [FILE NAME]"</code>: Sube este error si no se encuentra el .yaml del mapa correspondiente.</li>
<li><code>"Fatal error, the player couldn't be created."</code>: Surge si la máquina no puede, por la razon que sea, crear dinámicamente una instancia del jugador. Si es ocasionado por una falta de recursos se debería cerrar cualquier proceso que de forma innecesaria coma recursos.</li>
<li><code>"Fatal error, the executer couldn't be created."</code>: Surge si la máquina no puede, por la razon que sea, crear dinámicamente una instancia del <a class="el" href="classCommandExecuter.html" title="Receives the data from the server and calls the other object to keep the game running.">CommandExecuter</a> (responsable de recibir información del server). Si es ocasionado por una falta de recursos se debería cerrar cualquier proceso que de forma innecesaria coma recursos.</li>
<li><code>"Fatal error, the sender couldn't be created."</code>: Surge si la máquina no puede, por la razon que sea, crear dinámicamente una instancia del <a class="el" href="classCommandSender.html" title="Class that takes the user input and sends it to the server.">CommandSender</a> (responsable de mandar información del server). Si es ocasionado por una falta de recursos se debería cerrar cualquier proceso que de forma innecesaria coma recursos.</li>
<li><code>"Error, can't push a null pointer as a sprite."</code>: Ocurre si se intenta guardar un sprite nulo. Puede ser la consecuencia de no tener los recursos para crear estas instancias; en tal caso se debería cerrar cualquier proceso que de forma innecesaria tome recursos.</li>
<li>Cualquier otro tipo de error loggeado es el el resultado de llamar al método <code>what()</code> de la excepción que haya finalizado la vida del programa y es fatal. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
